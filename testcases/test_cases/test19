# Test 19
// No deadlock because of site fail
// T1 will abort because it read x1 from failed site 2
// T1 -> T2, T2 -> T3, T3 -> T4, NO T4 -> T1, as T1's lock info is lost when site fail
// T4 will write directly to x1
// T2, T3, T4 will commit

begin(T1)
begin(T2)
begin(T3)
begin(T4)
R(T1,x1)
fail(2)
recover(2)
R(T2,x2)
R(T3,x3)
R(T4,x4)
W(T1,x2,200)
W(T2,x3,300)
W(T3,x4,400)
W(T4,x1,100)
end(T4)
end(T3)
end(T2)
end(T1)
dump()

// Final status of dump
// x1: 100 at site 2
// x3: 300 at site 4
// x4: 400 at all sites
// Other variables will not be changed (initial value).

// x1: 10
// x2: 20
// x3: 30
// x4: 40
// T4 commits
// T3 commits
// T2 commits
// T1 aborts
// site 1- x2:20 x4:400 x6:60 x8:80 x10:100 x12:120 x14:140 x16:160 x18:180 x20:200
// site 2- x1:100 x2:20 x4:400 x6:60 x8:80 x10:100 x11:110 x12:120 x14:140 x16:160 x18:180 x20:200
// site 3- x2:20 x4:400 x6:60 x8:80 x10:100 x12:120 x14:140 x16:160 x18:180 x20:200
// site 4- x2:20 x3:300 x4:400 x6:60 x8:80 x10:100 x12:120 x13:130 x14:140 x16:160 x18:180 x20:200
// site 5- x2:20 x4:400 x6:60 x8:80 x10:100 x12:120 x14:140 x16:160 x18:180 x20:200
// site 6- x2:20 x4:400 x5:50 x6:60 x8:80 x10:100 x12:120 x14:140 x15:150 x16:160 x18:180 x20:200
// site 7- x2:20 x4:400 x6:60 x8:80 x10:100 x12:120 x14:140 x16:160 x18:180 x20:200
// site 8- x2:20 x4:400 x6:60 x7:70 x8:80 x10:100 x12:120 x14:140 x16:160 x17:170 x18:180 x20:200
// site 9- x2:20 x4:400 x6:60 x8:80 x10:100 x12:120 x14:140 x16:160 x18:180 x20:200
// site 10- x2:20 x4:400 x6:60 x8:80 x9:90 x10:100 x12:120 x14:140 x16:160 x18:180 x19:190 x20:200

